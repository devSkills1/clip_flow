基于 Flutter 的 PC 剪贴板记录工具设计一个符合 Material Design 3 风格且注重易用性的 UI 界面。

**核心功能需求：**

1.  **剪贴板内容记录：** 自动记录用户复制到剪贴板的所有文本、图片等内容。
2.  **内容分类/筛选：** 支持按类型（文本、图片等）或自定义标签进行分类和筛选。
3.  **快速搜索：** 通过关键词快速查找历史剪贴板记录。
4.  **内容预览：** 方便用户查看记录的文本或图片内容。
5.  **一键粘贴：** 快速将选中的历史记录重新粘贴到剪贴板。
6.  **收藏/置顶：** 对于常用或重要的记录可以收藏或置顶。
7.  **删除记录：** 支持单个或批量删除记录。
8.  **设置：** 提供基本设置，如启动方式、记录上限、自动清理等。

**UI 界面设计（Material Design 3 风格）：**

我们将主要分为以下几个区域：

**1. 主窗口布局（Desktop Window Layout）**

*   **窗口大小：** 默认为中等大小，可拖动调整，并支持最大化和最小化。
*   **标题栏：** 应用名称（如“剪贴板历史”），标准窗口控制按钮（最小化、最大化、关闭）。

**2. 侧边导航栏 (Navigation Rail / Navigation Drawer)**

*   **样式：** 考虑使用 `NavigationRail` 或 `NavigationDrawer`。对于 PC 应用，`NavigationRail`（窄边栏）在视觉上更简洁，适合分类和筛选。如果功能较多，可考虑展开的 `NavigationDrawer`。这里我们先设计 `NavigationRail`。
*   **图标和文字标签：**
    *   **所有记录：** `Inbox` 或 `History` 图标。
    *   **文本：** `Description` 或 `TextSnippet` 图标。
    *   **图片：** `Image` 或 `Photo` 图标。
    *   **收藏：** `Star` 或 `Favorite` 图标。
    *   **设置：** `Settings` 或 `Tune` 图标。
*   **交互：** 点击对应图标，主内容区域会显示相应类型的记录。

**3. 顶部操作栏 (Top AppBar / Search Bar)**

*   **搜索框：** `TextField` 组件，带有 `Search` 图标的前缀，占位符为“搜索历史剪贴板...”。输入时可实时筛选。
*   **筛选/排序按钮（可选）：** 如果侧边栏不足以满足筛选需求，可以放置一个 `FilterList` 图标，点击后弹出筛选菜单（例如：按时间排序、按大小排序、排除重复等）。
*   **快捷操作按钮（可选）：** 例如“清空所有记录”按钮（通常放在设置里更安全）。

**4. 内容显示区域 (Content Display Area)**

这是核心区域，用于展示剪贴板历史记录列表。

*   **列表样式：** 使用 `ListView.builder`，每个记录项使用 `Card` 或 `ListTile` 组件。
*   **记录项设计 (List Item Design)：**
    *   **左侧：**
        *   **内容类型图标：** 小尺寸图标，例如文本 (`TextSnippet`)、图片 (`Image`)。
        *   **预览图/文本摘要：**
            *   **文本：** 显示剪贴板内容的**第一行**或**前20-50个字符**，如果内容较长，末尾显示 `...`。使用 `Text` 组件，字体稍小，颜色略浅。
            *   **图片：** 显示缩略图。点击缩略图可放大预览。
    *   **中间：**
        *   **时间戳：** 记录时间，例如“刚刚”、“10分钟前”、“昨天 14:30”。使用 `Text` 组件，颜色更浅，字体更小。
        *   **来源应用（可选）：** 如果能获取到，显示复制内容的来源应用图标和名称。
    *   **右侧：**
        *   **复制按钮：** `ContentCopy` 图标，点击后将该记录重新复制到剪贴板。
        *   **收藏按钮：** `StarBorder` (未收藏) / `Star` (已收藏) 图标，点击切换收藏状态。
        *   **更多操作菜单：** `MoreVert` 图标，点击弹出 `PopupMenuButton`，包含“删除”、“编辑（文本）”、“分享”等选项。
*   **空状态：** 如果没有记录，显示一个友好的提示，例如“剪贴板空空如也，开始复制吧！”并配上一个可爱的插画。
    *   `EmptyStateIllustration` 

**5. 底部状态栏 (Bottom Bar - Optional / Minimal)**

*   可以显示当前记录数量，或一些轻量级提示。如果信息量不大，可以省略。

**交互细节和易用性考量：**

*   **快捷键支持：**
    *   全局快捷键：唤出/隐藏主窗口。
    *   方向键：在列表中快速导航。
    *   Enter 键：将选中项粘贴到剪贴板。
    *   Delete 键：删除选中项。
*   **Toast / Snackbar 提示：** 复制成功、删除成功等操作后，给予短暂的视觉反馈。
*   **沉浸式体验：** 窗口可以设置为点击其他地方自动隐藏（可选设置）。
*   **拖放支持 (Drag and Drop - 高级功能)：** 用户可以直接从列表项拖放文本或图片到其他应用。
*   **主题切换：** 支持亮色/暗色主题。Material Design 3 在这方面有很好的支持。

**Material Design 3 风格元素应用：**

*   **动态颜色 (Dynamic Color)：** 如果可能，支持根据壁纸提取颜色生成主题色。
*   **圆角：** 广泛应用于卡片、按钮和对话框。
*   **加粗文本：** 标题、主要信息使用更粗的字体。
*   **图标：** 统一使用 Material Symbols 或 Material Icons，并且支持填充 (Filled)、描边 (Outlined) 等不同样式。
*   **Elevation：** 通过阴影（`elevation`）来区分不同层级的组件，例如 `AppBar` 和 `Card`。
*   **间距和对齐：** 保持一致的间距和对齐，提高视觉舒适度。

**Flutter 实现相关：**

*   **状态管理：** 可以选择 `Provider`、`Bloc`、`Riverpod` 等。
*   **数据持久化：** 使用 `shared_preferences` 存储设置，使用 `drift` (SQLite) 或 `Hive` 存储剪贴板记录。
*   **桌面端集成：** `package:desktop_window` 用于控制窗口，`package:system_tray` 用于系统托盘集成，`package:hotkey_manager` 用于全局快捷键。

这是一个大致的 UI 界面设计思路。

**主界面示意图：**

想像一下一个干净、现代的窗口，左侧是垂直的导航栏，中间是带有搜索框的顶部区域，下方大面积区域用于显示记录列表。

```
+-------------------------------------------------------------+
| [Min] [Max] [Close]  剪贴板历史                             |
+-------------------------------------------------------------+
|                                                             |
| +-----------------+ +-------------------------------------+ |
| |                 | | [搜索图标] 搜索历史剪贴板...        | |
| | [图标] 所有记录 | +-------------------------------------+ |
| |                 | |                                     | |
| | [图标] 文本     | | +---------------------------------+ | |
| |                 | | | [文本图标] 这是第一条文本剪贴板记录...| |
| | [图标] 图片     | | |                                 | |
| |                 | | |  刚刚                              | |
| | [图标] 收藏     | | +---------------------------------+ | |
| |                 | |                                     | |
| | [图标] 设置     | | +---------------------------------+ | |
| |                 | | | [图片图标] [图片缩略图]           | |
| |                 | | |                                 | |
| |                 | | |  1小时前                           | |
| |                 | | +---------------------------------+ | |
| |                 | |                                     | |
| |                 | | +---------------------------------+ | |
| |                 | | | [文本图标] 这是另一条文本记录，内容比较长...| |
| |                 | | |                                 | |
| |                 | | |  昨天 10:00                        | |
| |                 | | +---------------------------------+ | |
| +-----------------+ +-------------------------------------+ |
|                                                             |
+-------------------------------------------------------------+
```

**以下是一个更直观的 UI 界面草图（简化版）：**
我为你生成一个基于上述描述的 Material Design 3 风格的 PC 剪贴板记录工具的 UI 界面。请看：

![图片](./Material%20Design3.jpeg)
