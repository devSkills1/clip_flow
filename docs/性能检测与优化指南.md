# ClipFlow Pro æ€§èƒ½æ£€æµ‹ä¸ä¼˜åŒ–æŒ‡å—

> **ä½œè€…**: å­—èŠ‚è·³åŠ¨æ¶æ„å¸ˆå›¢é˜Ÿ  
> **ç‰ˆæœ¬**: v1.0  
> **æ›´æ–°æ—¶é—´**: 2025-01-27  
> **é€‚ç”¨èŒƒå›´**: Flutter è·¨å¹³å°å‰ªè´´æ¿ç®¡ç†åº”ç”¨

---

## ğŸ“‹ ç›®å½•

1. [æ¦‚è¿°](#æ¦‚è¿°)
2. [æ€§èƒ½æ£€æµ‹ä½“ç³»](#æ€§èƒ½æ£€æµ‹ä½“ç³»)
3. [å…³é”®æ€§èƒ½æŒ‡æ ‡](#å…³é”®æ€§èƒ½æŒ‡æ ‡)
4. [æ£€æµ‹å·¥å…·ä¸æ–¹æ³•](#æ£€æµ‹å·¥å…·ä¸æ–¹æ³•)
5. [æ€§èƒ½ä¼˜åŒ–ç­–ç•¥](#æ€§èƒ½ä¼˜åŒ–ç­–ç•¥)
6. [ç›‘æ§ä¸å‘Šè­¦](#ç›‘æ§ä¸å‘Šè­¦)
7. [æ€§èƒ½æµ‹è¯•ç”¨ä¾‹](#æ€§èƒ½æµ‹è¯•ç”¨ä¾‹)
8. [æœ€ä½³å®è·µ](#æœ€ä½³å®è·µ)

---

## ğŸ¯ æ¦‚è¿°

### é¡¹ç›®èƒŒæ™¯
ClipFlow Pro æ˜¯ä¸€æ¬¾åŸºäº Flutter 3.19+ çš„è·¨å¹³å°å‰ªè´´æ¿å†å²ç®¡ç†å·¥å…·ï¼Œæ”¯æŒ Mac/Windows/Linux ä¸‰å¤§æ¡Œé¢å¹³å°ã€‚æ ¸å¿ƒåŠŸèƒ½åŒ…æ‹¬ï¼š
- å®æ—¶å‰ªè´´æ¿ç›‘å¬ä¸æ•è·
- å¤šåª’ä½“å†…å®¹å­˜å‚¨ï¼ˆæ–‡æœ¬ã€å›¾ç‰‡ã€æ–‡ä»¶ç­‰ï¼‰
- å…¨æ–‡æœç´¢ä¸æ™ºèƒ½æ ‡ç­¾
- æœ¬åœ°åŠ å¯†å­˜å‚¨ä¸äº‘ç«¯åŒæ­¥
- å›¢é˜Ÿåä½œä¸å…±äº«åº“

### æ€§èƒ½æŒ‘æˆ˜
ä½œä¸ºç³»ç»Ÿçº§å·¥å…·ï¼ŒClipFlow Pro é¢ä¸´ä»¥ä¸‹æ€§èƒ½æŒ‘æˆ˜ï¼š
1. **å®æ—¶æ€§è¦æ±‚**ï¼šå‰ªè´´æ¿ç›‘å¬å»¶è¿Ÿéœ€ < 100ms
2. **å¤§æ•°æ®å¤„ç†**ï¼šæ”¯æŒå•æ¡å†…å®¹ â‰¤ 1MBï¼Œå†å²è®°å½• 10K+ æ¡
3. **å¤šåª’ä½“æ¸²æŸ“**ï¼šå›¾ç‰‡/è§†é¢‘é¢„è§ˆéœ€æµç•…åŠ è½½
4. **è·¨å¹³å°ä¸€è‡´æ€§**ï¼šä¸‰å¤§å¹³å°æ€§èƒ½è¡¨ç°éœ€ä¿æŒä¸€è‡´
5. **èµ„æºå ç”¨**ï¼šå†…å­˜å ç”¨ < 200MBï¼ŒCPU ç©ºé—²æ—¶ < 5%

---

## ğŸ” æ€§èƒ½æ£€æµ‹ä½“ç³»

### æ£€æµ‹ç»´åº¦

#### 1. åº”ç”¨å±‚æ€§èƒ½
- **å¯åŠ¨æ€§èƒ½**ï¼šå†·å¯åŠ¨ã€çƒ­å¯åŠ¨æ—¶é—´
- **UI å“åº”æ€§**ï¼šå¸§ç‡ã€å¡é¡¿ã€åŠ¨ç”»æµç•…åº¦
- **å†…å­˜ç®¡ç†**ï¼šå†…å­˜å ç”¨ã€æ³„æ¼æ£€æµ‹
- **CPU ä½¿ç”¨ç‡**ï¼šç©ºé—²/å·¥ä½œçŠ¶æ€ CPU å ç”¨

#### 2. æ•°æ®å±‚æ€§èƒ½
- **æ•°æ®åº“æ“ä½œ**ï¼šSQLite è¯»å†™æ€§èƒ½
- **æ–‡ä»¶ I/O**ï¼šåª’ä½“æ–‡ä»¶å­˜å‚¨/è¯»å–é€Ÿåº¦
- **åŠ å¯†è§£å¯†**ï¼šAES-256 åŠ è§£å¯†è€—æ—¶
- **æœç´¢æ€§èƒ½**ï¼šå…¨æ–‡æ£€ç´¢å“åº”æ—¶é—´

#### 3. ç³»ç»Ÿé›†æˆæ€§èƒ½
- **å‰ªè´´æ¿ç›‘å¬**ï¼šç³»ç»Ÿäº‹ä»¶å“åº”å»¶è¿Ÿ
- **çª—å£ç®¡ç†**ï¼šæ‰˜ç›˜/æ‚¬æµ®çª—åˆ‡æ¢æ€§èƒ½
- **å¹³å° API**ï¼šåŸç”ŸåŠŸèƒ½è°ƒç”¨è€—æ—¶

#### 4. ç½‘ç»œæ€§èƒ½
- **åŒæ­¥é€Ÿåº¦**ï¼šiCloud/OneDrive ä¸Šä¼ ä¸‹è½½
- **API å“åº”**ï¼šå›¢é˜Ÿåä½œæ¥å£å»¶è¿Ÿ
- **ç¦»çº¿å¤„ç†**ï¼šç½‘ç»œå¼‚å¸¸æ—¶çš„é™çº§ç­–ç•¥

---

## ğŸ“Š å…³é”®æ€§èƒ½æŒ‡æ ‡

### æ ¸å¿ƒ KPI

| æŒ‡æ ‡ç±»åˆ« | æŒ‡æ ‡åç§° | ç›®æ ‡å€¼ | è­¦å‘Šé˜ˆå€¼ | ä¸¥é‡é˜ˆå€¼ | æµ‹é‡æ–¹æ³• |
|---------|---------|--------|----------|----------|----------|
| **å¯åŠ¨æ€§èƒ½** | å†·å¯åŠ¨æ—¶é—´ | < 2s | 2-3s | > 3s | åº”ç”¨å¯åŠ¨åˆ°é¦–å±æ¸²æŸ“å®Œæˆ |
| | çƒ­å¯åŠ¨æ—¶é—´ | < 500ms | 500ms-1s | > 1s | ä»åå°æ¢å¤åˆ°å¯äº¤äº’ |
| **å“åº”æ€§èƒ½** | å‰ªè´´æ¿æ•è·å»¶è¿Ÿ | < 100ms | 100-200ms | > 200ms | ç³»ç»Ÿå¤åˆ¶åˆ°åº”ç”¨è®°å½• |
| | æœç´¢å“åº”æ—¶é—´ | < 300ms | 300-500ms | > 500ms | è¾“å…¥åˆ°ç»“æœå±•ç¤º |
| | åˆ—è¡¨æ»šåŠ¨å¸§ç‡ | â‰¥ 58 FPS | 45-58 FPS | < 45 FPS | Flutter Inspector |
| **èµ„æºå ç”¨** | å†…å­˜ä½¿ç”¨ | < 150MB | 150-200MB | > 200MB | ç¨³å®šè¿è¡ŒçŠ¶æ€ |
| | CPU å ç”¨ï¼ˆç©ºé—²ï¼‰ | < 3% | 3-5% | > 5% | æ— ç”¨æˆ·æ“ä½œæ—¶ |
| | CPU å ç”¨ï¼ˆå·¥ä½œï¼‰ | < 15% | 15-25% | > 25% | æœç´¢/æ¸²æŸ“æ—¶ |
| **æ•°æ®æ€§èƒ½** | æ•°æ®åº“æŸ¥è¯¢ | < 50ms | 50-100ms | > 100ms | å•æ¬¡ SELECT æ“ä½œ |
| | æ–‡ä»¶è¯»å– | < 100ms | 100-200ms | > 200ms | 1MB åª’ä½“æ–‡ä»¶ |
| | åŠ å¯†æ“ä½œ | < 10ms | 10-20ms | > 20ms | å•æ¡è®°å½•åŠ è§£å¯† |

### ç”¨æˆ·ä½“éªŒæŒ‡æ ‡

| åœºæ™¯ | æœŸæœ›æ—¶é—´ | ç”¨æˆ·æ„ŸçŸ¥ |
|------|----------|----------|
| å¿«æ·é”®å”¤èµ·åº”ç”¨ | < 200ms | å³æ—¶å“åº” |
| æœç´¢è®¾è®¡å¸ˆè‰²å€¼ | < 3s | å¿«é€Ÿå®šä½ |
| å¤ç”¨è¿è¥æ–‡æ¡ˆ | < 5s | é«˜æ•ˆæ“ä½œ |
| å¤§å›¾ç‰‡é¢„è§ˆ | < 1s | æµç•…ä½“éªŒ |
| æ‰¹é‡å¯¼å…¥å†å² | < 30s/1000æ¡ | å¯æ¥å—ç­‰å¾… |

---

## ğŸ›  æ£€æµ‹å·¥å…·ä¸æ–¹æ³•

### Flutter åŸç”Ÿå·¥å…·

#### 1. Flutter DevTools
```bash
# å¯åŠ¨ DevTools
flutter pub global activate devtools
flutter pub global run devtools

# è¿æ¥åº”ç”¨
flutter run --debug
# åœ¨ DevTools ä¸­è¿æ¥åˆ°åº”ç”¨è¿›ç¨‹
```

**æ£€æµ‹é¡¹ç›®**ï¼š
- **Performance é¢æ¿**ï¼šå¸§ç‡ã€é‡å»ºæ¬¡æ•°ã€GPU ä½¿ç”¨
- **Memory é¢æ¿**ï¼šå†…å­˜åˆ†é…ã€GC é¢‘ç‡ã€å†…å­˜æ³„æ¼
- **CPU Profiler**ï¼šæ–¹æ³•è°ƒç”¨çƒ­ç‚¹ã€æ‰§è¡Œæ—¶é—´åˆ†æ
- **Network é¢æ¿**ï¼šHTTP è¯·æ±‚è€—æ—¶ã€æ•°æ®ä¼ è¾“é‡

#### 2. Flutter Inspector
```bash
# å¯ç”¨ Inspector
flutter run --debug
# åœ¨ IDE ä¸­æ‰“å¼€ Flutter Inspector é¢æ¿
```

**æ£€æµ‹é¡¹ç›®**ï¼š
- Widget æ ‘ç»“æ„ä¼˜åŒ–
- ä¸å¿…è¦çš„é‡å»ºæ£€æµ‹
- å¸ƒå±€æ€§èƒ½åˆ†æ

#### 3. Observatory
```bash
# å¯åŠ¨ Observatory
flutter run --debug --observatory-port=8080
# è®¿é—® http://localhost:8080
```

**æ£€æµ‹é¡¹ç›®**ï¼š
- Dart VM æ€§èƒ½åˆ†æ
- å†…å­˜å †å¿«ç…§
- GC è¡Œä¸ºç›‘æ§

### å¹³å°ç‰¹å®šå·¥å…·

#### macOS
```bash
# Instruments æ€§èƒ½åˆ†æ
instruments -t "Time Profiler" -D trace.trace ./ClipFlowPro.app

# Activity Monitor èµ„æºç›‘æ§
# ç³»ç»Ÿåå¥½è®¾ç½® > æ´»åŠ¨ç›‘è§†å™¨

# å†…å­˜æ³„æ¼æ£€æµ‹
leaks -atExit -- ./ClipFlowPro.app
```

#### Windows
```powershell
# Visual Studio Diagnostic Tools
# åœ¨ Visual Studio ä¸­é™„åŠ åˆ°è¿›ç¨‹

# Windows Performance Analyzer
wpa.exe -i trace.etl

# PerfView å†…å­˜åˆ†æ
PerfView.exe /DataFile:memory.etl /AcceptEULA collect
```

#### Linux
```bash
# Perf æ€§èƒ½åˆ†æ
perf record -g ./clip_flow_pro
perf report

# Valgrind å†…å­˜æ£€æµ‹
valgrind --tool=memcheck --leak-check=full ./clip_flow_pro

# htop èµ„æºç›‘æ§
htop -p $(pgrep clip_flow_pro)
```

### è‡ªåŠ¨åŒ–æ£€æµ‹è„šæœ¬

#### æ€§èƒ½åŸºå‡†æµ‹è¯•
```dart
// test/performance/benchmark_test.dart
import 'package:flutter_test/flutter_test.dart';
import 'package:integration_test/integration_test.dart';

void main() {
  IntegrationTestWidgetsFlutterBinding.ensureInitialized();
  
  group('æ€§èƒ½åŸºå‡†æµ‹è¯•', () {
    testWidgets('å¯åŠ¨æ€§èƒ½æµ‹è¯•', (tester) async {
      final stopwatch = Stopwatch()..start();
      
      await tester.pumpWidget(MyApp());
      await tester.pumpAndSettle();
      
      stopwatch.stop();
      expect(stopwatch.elapsedMilliseconds, lessThan(2000));
    });
    
    testWidgets('æœç´¢æ€§èƒ½æµ‹è¯•', (tester) async {
      // å‡†å¤‡æµ‹è¯•æ•°æ®
      await setupTestData(1000);
      
      final stopwatch = Stopwatch()..start();
      
      await tester.enterText(find.byType(TextField), 'æµ‹è¯•æœç´¢');
      await tester.pumpAndSettle();
      
      stopwatch.stop();
      expect(stopwatch.elapsedMilliseconds, lessThan(300));
    });
  });
}
```

#### å†…å­˜æ³„æ¼æ£€æµ‹
```dart
// test/performance/memory_leak_test.dart
import 'package:flutter_test/flutter_test.dart';

void main() {
  test('å†…å­˜æ³„æ¼æ£€æµ‹', () async {
    final initialMemory = await getMemoryUsage();
    
    // æ‰§è¡Œå¤§é‡æ“ä½œ
    for (int i = 0; i < 1000; i++) {
      await performClipboardOperation();
    }
    
    // å¼ºåˆ¶ GC
    await forceGarbageCollection();
    
    final finalMemory = await getMemoryUsage();
    final memoryIncrease = finalMemory - initialMemory;
    
    // å†…å­˜å¢é•¿åº”åœ¨åˆç†èŒƒå›´å†…
    expect(memoryIncrease, lessThan(50 * 1024 * 1024)); // 50MB
  });
}
```

---

## âš¡ æ€§èƒ½ä¼˜åŒ–ç­–ç•¥

### UI å±‚ä¼˜åŒ–

#### 1. Widget ä¼˜åŒ–
```dart
// âŒ é¿å…ï¼šé¢‘ç¹é‡å»ºçš„ Widget
class BadClipItemCard extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return Consumer(builder: (context, ref, child) {
      final allClips = ref.watch(clipProvider); // ç›‘å¬æ•´ä¸ªåˆ—è¡¨
      return Card(child: Text(allClips[index].content));
    });
  }
}

// âœ… æ¨èï¼šç²¾ç¡®ç›‘å¬çš„ Widget
class GoodClipItemCard extends ConsumerWidget {
  final String clipId;
  
  @override
  Widget build(BuildContext context, WidgetRef ref) {
    final clip = ref.watch(clipProvider.select((clips) => 
      clips.firstWhere((c) => c.id == clipId))); // ç²¾ç¡®ç›‘å¬
    return Card(child: Text(clip.content));
  }
}
```

#### 2. åˆ—è¡¨ä¼˜åŒ–
```dart
// ä½¿ç”¨ ListView.builder å®ç°è™šæ‹Ÿæ»šåŠ¨
class OptimizedClipList extends ConsumerWidget {
  @override
  Widget build(BuildContext context, WidgetRef ref) {
    final clips = ref.watch(clipProvider);
    
    return ListView.builder(
      itemCount: clips.length,
      itemExtent: 80.0, // å›ºå®šé«˜åº¦æå‡æ€§èƒ½
      cacheExtent: 500.0, // é¢„åŠ è½½èŒƒå›´
      itemBuilder: (context, index) {
        return ClipItemCard(
          key: ValueKey(clips[index].id), // ç¨³å®šçš„ key
          clip: clips[index],
        );
      },
    );
  }
}
```

#### 3. å›¾ç‰‡ä¼˜åŒ–
```dart
// å›¾ç‰‡ç¼“å­˜ä¸æ‡’åŠ è½½
class OptimizedImageWidget extends StatelessWidget {
  final String imagePath;
  
  @override
  Widget build(BuildContext context) {
    return Image.file(
      File(imagePath),
      cacheWidth: 200, // é™åˆ¶ç¼“å­˜å°ºå¯¸
      cacheHeight: 200,
      errorBuilder: (context, error, stackTrace) {
        return const Icon(Icons.broken_image);
      },
      frameBuilder: (context, child, frame, wasSynchronouslyLoaded) {
        if (wasSynchronouslyLoaded) return child;
        return AnimatedOpacity(
          opacity: frame == null ? 0 : 1,
          duration: const Duration(milliseconds: 200),
          child: child,
        );
      },
    );
  }
}
```

### æ•°æ®å±‚ä¼˜åŒ–

#### 1. æ•°æ®åº“ä¼˜åŒ–
```sql
-- åˆ›å»ºé«˜æ•ˆç´¢å¼•
CREATE INDEX idx_clips_created_at ON clip_items(created_at DESC);
CREATE INDEX idx_clips_type ON clip_items(type);
CREATE INDEX idx_clips_favorite ON clip_items(is_favorite) WHERE is_favorite = 1;

-- å¤åˆç´¢å¼•ç”¨äºå¤æ‚æŸ¥è¯¢
CREATE INDEX idx_clips_type_created ON clip_items(type, created_at DESC);

-- FTS5 å…¨æ–‡æœç´¢ç´¢å¼•
CREATE VIRTUAL TABLE clips_fts USING fts5(
  content,
  content_tokenize='unicode61 remove_diacritics 1'
);
```

```dart
// æ•°æ®åº“è¿æ¥æ± 
class DatabaseService {
  static Database? _database;
  static final _connectionPool = <Database>[];
  
  static Future<Database> getConnection() async {
    if (_connectionPool.isNotEmpty) {
      return _connectionPool.removeLast();
    }
    return await _createConnection();
  }
  
  static void releaseConnection(Database db) {
    if (_connectionPool.length < 5) {
      _connectionPool.add(db);
    } else {
      db.close();
    }
  }
}
```

#### 2. ç¼“å­˜ç­–ç•¥
```dart
// å¤šçº§ç¼“å­˜ç³»ç»Ÿ
class CacheManager {
  static final _memoryCache = <String, dynamic>{};
  static final _diskCache = <String, String>{};
  
  static Future<T?> get<T>(String key) async {
    // L1: å†…å­˜ç¼“å­˜
    if (_memoryCache.containsKey(key)) {
      return _memoryCache[key] as T;
    }
    
    // L2: ç£ç›˜ç¼“å­˜
    final diskValue = await _getDiskCache(key);
    if (diskValue != null) {
      final value = _deserialize<T>(diskValue);
      _memoryCache[key] = value; // å›å¡«å†…å­˜ç¼“å­˜
      return value;
    }
    
    return null;
  }
  
  static Future<void> set<T>(String key, T value) async {
    _memoryCache[key] = value;
    await _setDiskCache(key, _serialize(value));
  }
}
```

#### 3. å¼‚æ­¥å¤„ç†
```dart
// ä½¿ç”¨ Isolate å¤„ç† CPU å¯†é›†å‹ä»»åŠ¡
class BackgroundProcessor {
  static Future<List<ClipItem>> processLargeDataset(
    List<Map<String, dynamic>> rawData,
  ) async {
    return await compute(_processDataInIsolate, rawData);
  }
  
  static List<ClipItem> _processDataInIsolate(
    List<Map<String, dynamic>> rawData,
  ) {
    return rawData.map((data) => ClipItem.fromJson(data)).toList();
  }
}

// æ‰¹é‡æ“ä½œä¼˜åŒ–
class BatchOperations {
  static Future<void> batchInsert(List<ClipItem> items) async {
    final db = await DatabaseService.getConnection();
    final batch = db.batch();
    
    for (final item in items) {
      batch.insert('clip_items', item.toJson());
    }
    
    await batch.commit(noResult: true);
    DatabaseService.releaseConnection(db);
  }
}
```

### ç³»ç»Ÿé›†æˆä¼˜åŒ–

#### 1. å‰ªè´´æ¿ç›‘å¬ä¼˜åŒ–
```dart
// é˜²æŠ–åŠ¨å¤„ç†
class ClipboardMonitor {
  Timer? _debounceTimer;
  String? _lastContent;
  
  void startMonitoring() {
    Timer.periodic(const Duration(milliseconds: 100), (timer) {
      _checkClipboard();
    });
  }
  
  void _checkClipboard() async {
    final content = await Clipboard.getData(Clipboard.kTextPlain);
    if (content?.text != _lastContent) {
      _debounceTimer?.cancel();
      _debounceTimer = Timer(const Duration(milliseconds: 50), () {
        _processNewContent(content?.text);
      });
      _lastContent = content?.text;
    }
  }
}
```

#### 2. çª—å£ç®¡ç†ä¼˜åŒ–
```dart
// çª—å£çŠ¶æ€ç¼“å­˜
class WindowStateManager {
  static final _stateCache = <String, WindowState>{};
  
  static Future<void> saveWindowState(String windowId) async {
    final bounds = await windowManager.getBounds();
    final isVisible = await windowManager.isVisible();
    
    _stateCache[windowId] = WindowState(
      bounds: bounds,
      isVisible: isVisible,
    );
  }
  
  static Future<void> restoreWindowState(String windowId) async {
    final state = _stateCache[windowId];
    if (state != null) {
      await windowManager.setBounds(state.bounds);
      if (state.isVisible) {
        await windowManager.show();
      }
    }
  }
}
```

---

## ğŸ“ˆ ç›‘æ§ä¸å‘Šè­¦

### å®æ—¶ç›‘æ§ç³»ç»Ÿ

#### 1. æ€§èƒ½æŒ‡æ ‡æ”¶é›†
```dart
// æ€§èƒ½æŒ‡æ ‡æ”¶é›†å™¨
class PerformanceCollector {
  static final _metrics = <String, List<double>>{};
  
  static void recordMetric(String name, double value) {
    _metrics.putIfAbsent(name, () => <double>[]);
    _metrics[name]!.add(value);
    
    // ä¿æŒæœ€è¿‘ 1000 ä¸ªæ•°æ®ç‚¹
    if (_metrics[name]!.length > 1000) {
      _metrics[name]!.removeAt(0);
    }
    
    _checkThresholds(name, value);
  }
  
  static void _checkThresholds(String name, double value) {
    final threshold = _getThreshold(name);
    if (value > threshold) {
      _triggerAlert(name, value, threshold);
    }
  }
  
  static Map<String, double> getAverages() {
    return _metrics.map((key, values) => MapEntry(
      key,
      values.reduce((a, b) => a + b) / values.length,
    ));
  }
}
```

#### 2. å‘Šè­¦ç³»ç»Ÿ
```dart
// å‘Šè­¦ç®¡ç†å™¨
class AlertManager {
  static final _alertHandlers = <AlertLevel, List<AlertHandler>>{};
  
  static void registerHandler(AlertLevel level, AlertHandler handler) {
    _alertHandlers.putIfAbsent(level, () => <AlertHandler>[]);
    _alertHandlers[level]!.add(handler);
  }
  
  static void triggerAlert(Alert alert) {
    final handlers = _alertHandlers[alert.level] ?? [];
    for (final handler in handlers) {
      handler.handle(alert);
    }
  }
}

// å‘Šè­¦å¤„ç†å™¨å®ç°
class LogAlertHandler implements AlertHandler {
  @override
  void handle(Alert alert) {
    print('[${alert.level}] ${alert.message} - ${alert.timestamp}');
  }
}

class NotificationAlertHandler implements AlertHandler {
  @override
  void handle(Alert alert) {
    if (alert.level == AlertLevel.critical) {
      // å‘é€ç³»ç»Ÿé€šçŸ¥
      _showSystemNotification(alert);
    }
  }
}
```

#### 3. æ€§èƒ½æŠ¥å‘Šç”Ÿæˆ
```dart
// æ€§èƒ½æŠ¥å‘Šç”Ÿæˆå™¨
class PerformanceReporter {
  static Future<PerformanceReport> generateReport() async {
    final metrics = PerformanceCollector.getAverages();
    final memoryUsage = await _getMemoryUsage();
    final cpuUsage = await _getCpuUsage();
    
    return PerformanceReport(
      timestamp: DateTime.now(),
      metrics: metrics,
      memoryUsage: memoryUsage,
      cpuUsage: cpuUsage,
      recommendations: _generateRecommendations(metrics),
    );
  }
  
  static List<String> _generateRecommendations(
    Map<String, double> metrics,
  ) {
    final recommendations = <String>[];
    
    if (metrics['startup_time']! > 2000) {
      recommendations.add('è€ƒè™‘ä¼˜åŒ–å¯åŠ¨æµç¨‹ï¼Œå‡å°‘åŒæ­¥åˆå§‹åŒ–æ“ä½œ');
    }
    
    if (metrics['memory_usage']! > 150 * 1024 * 1024) {
      recommendations.add('å†…å­˜ä½¿ç”¨åé«˜ï¼Œæ£€æŸ¥æ˜¯å¦å­˜åœ¨å†…å­˜æ³„æ¼');
    }
    
    return recommendations;
  }
}
```

---

## ğŸ§ª æ€§èƒ½æµ‹è¯•ç”¨ä¾‹

### å•å…ƒæ€§èƒ½æµ‹è¯•

```dart
// test/performance/unit_performance_test.dart
import 'package:flutter_test/flutter_test.dart';

void main() {
  group('æ•°æ®åº“æ€§èƒ½æµ‹è¯•', () {
    test('æ‰¹é‡æ’å…¥æ€§èƒ½', () async {
      final stopwatch = Stopwatch()..start();
      
      await DatabaseService.batchInsert(
        List.generate(1000, (i) => ClipItem.fake()),
      );
      
      stopwatch.stop();
      expect(stopwatch.elapsedMilliseconds, lessThan(5000)); // 5ç§’å†…å®Œæˆ
    });
    
    test('æœç´¢æ€§èƒ½æµ‹è¯•', () async {
      // å‡†å¤‡ 10000 æ¡æµ‹è¯•æ•°æ®
      await _setupLargeDataset(10000);
      
      final stopwatch = Stopwatch()..start();
      
      final results = await DatabaseService.search('æµ‹è¯•å…³é”®è¯');
      
      stopwatch.stop();
      expect(stopwatch.elapsedMilliseconds, lessThan(300));
      expect(results.length, greaterThan(0));
    });
  });
  
  group('åŠ å¯†æ€§èƒ½æµ‹è¯•', () {
    test('AES åŠ å¯†æ€§èƒ½', () async {
      final data = 'A' * 1024; // 1KB æ•°æ®
      final stopwatch = Stopwatch()..start();
      
      for (int i = 0; i < 1000; i++) {
        await EncryptionService.encrypt(data);
      }
      
      stopwatch.stop();
      final avgTime = stopwatch.elapsedMilliseconds / 1000;
      expect(avgTime, lessThan(10)); // å¹³å‡ 10ms å†…å®Œæˆ
    });
  });
}
```

### é›†æˆæ€§èƒ½æµ‹è¯•

```dart
// test/performance/integration_performance_test.dart
import 'package:integration_test/integration_test.dart';

void main() {
  IntegrationTestWidgetsFlutterBinding.ensureInitialized();
  
  group('ç«¯åˆ°ç«¯æ€§èƒ½æµ‹è¯•', () {
    testWidgets('å®Œæ•´å·¥ä½œæµæ€§èƒ½', (tester) async {
      // 1. å¯åŠ¨åº”ç”¨
      final startupStopwatch = Stopwatch()..start();
      await tester.pumpWidget(MyApp());
      await tester.pumpAndSettle();
      startupStopwatch.stop();
      
      expect(startupStopwatch.elapsedMilliseconds, lessThan(2000));
      
      // 2. æ¨¡æ‹Ÿå‰ªè´´æ¿æ“ä½œ
      final clipboardStopwatch = Stopwatch()..start();
      await _simulateClipboardCopy('æµ‹è¯•å†…å®¹');
      await tester.pump(const Duration(milliseconds: 100));
      clipboardStopwatch.stop();
      
      expect(clipboardStopwatch.elapsedMilliseconds, lessThan(100));
      
      // 3. æœç´¢æ“ä½œ
      final searchStopwatch = Stopwatch()..start();
      await tester.enterText(find.byType(TextField), 'æµ‹è¯•');
      await tester.pumpAndSettle();
      searchStopwatch.stop();
      
      expect(searchStopwatch.elapsedMilliseconds, lessThan(300));
      
      // 4. åˆ—è¡¨æ»šåŠ¨æ€§èƒ½
      final scrollStopwatch = Stopwatch()..start();
      await tester.fling(
        find.byType(ListView),
        const Offset(0, -500),
        1000,
      );
      await tester.pumpAndSettle();
      scrollStopwatch.stop();
      
      expect(scrollStopwatch.elapsedMilliseconds, lessThan(500));
    });
  });
}
```

### å‹åŠ›æµ‹è¯•

```dart
// test/performance/stress_test.dart
void main() {
  group('å‹åŠ›æµ‹è¯•', () {
    test('å¤§é‡æ•°æ®å¤„ç†', () async {
      final items = List.generate(
        50000,
        (i) => ClipItem.fake(content: 'Content $i'),
      );
      
      final stopwatch = Stopwatch()..start();
      
      // æ‰¹é‡æ’å…¥
      await DatabaseService.batchInsert(items);
      
      // æœç´¢æµ‹è¯•
      final searchResults = await DatabaseService.search('Content');
      
      // åˆ†é¡µåŠ è½½æµ‹è¯•
      final pageResults = await DatabaseService.getPage(0, 100);
      
      stopwatch.stop();
      
      expect(stopwatch.elapsedMilliseconds, lessThan(30000)); // 30ç§’å†…å®Œæˆ
      expect(searchResults.length, greaterThan(0));
      expect(pageResults.length, equals(100));
    });
    
    test('å¹¶å‘æ“ä½œæµ‹è¯•', () async {
      final futures = <Future>[];
      
      // æ¨¡æ‹Ÿ 100 ä¸ªå¹¶å‘æ“ä½œ
      for (int i = 0; i < 100; i++) {
        futures.add(_performConcurrentOperation(i));
      }
      
      final stopwatch = Stopwatch()..start();
      await Future.wait(futures);
      stopwatch.stop();
      
      expect(stopwatch.elapsedMilliseconds, lessThan(10000)); // 10ç§’å†…å®Œæˆ
    });
  });
}
```

---

## ğŸ¯ æœ€ä½³å®è·µ

### å¼€å‘é˜¶æ®µ

#### 1. æ€§èƒ½ä¼˜å…ˆçš„ç¼–ç ä¹ æƒ¯
```dart
// âœ… ä½¿ç”¨ const æ„é€ å‡½æ•°
const Text('é™æ€æ–‡æœ¬');

// âœ… é¿å…åœ¨ build æ–¹æ³•ä¸­åˆ›å»ºå¯¹è±¡
class GoodWidget extends StatelessWidget {
  static const _textStyle = TextStyle(fontSize: 16);
  
  @override
  Widget build(BuildContext context) {
    return Text('æ–‡æœ¬', style: _textStyle);
  }
}

// âœ… åˆç†ä½¿ç”¨ RepaintBoundary
RepaintBoundary(
  child: ExpensiveWidget(),
)

// âœ… ä½¿ç”¨ AutomaticKeepAliveClientMixin ä¿æŒçŠ¶æ€
class KeepAliveWidget extends StatefulWidget {
  @override
  _KeepAliveWidgetState createState() => _KeepAliveWidgetState();
}

class _KeepAliveWidgetState extends State<KeepAliveWidget>
    with AutomaticKeepAliveClientMixin {
  @override
  bool get wantKeepAlive => true;
  
  @override
  Widget build(BuildContext context) {
    super.build(context); // å¿…é¡»è°ƒç”¨
    return ExpensiveWidget();
  }
}
```

#### 2. å†…å­˜ç®¡ç†æœ€ä½³å®è·µ
```dart
// âœ… åŠæ—¶é‡Šæ”¾èµ„æº
class ResourceManager {
  StreamSubscription? _subscription;
  Timer? _timer;
  
  void dispose() {
    _subscription?.cancel();
    _timer?.cancel();
  }
}

// âœ… ä½¿ç”¨å¼±å¼•ç”¨é¿å…å¾ªç¯å¼•ç”¨
class WeakReferenceExample {
  late final WeakReference<SomeObject> _weakRef;
  
  void setReference(SomeObject obj) {
    _weakRef = WeakReference(obj);
  }
  
  SomeObject? getReference() {
    return _weakRef.target;
  }
}

// âœ… åˆç†ä½¿ç”¨å•ä¾‹æ¨¡å¼
class DatabaseService {
  static DatabaseService? _instance;
  static DatabaseService get instance {
    return _instance ??= DatabaseService._internal();
  }
  
  DatabaseService._internal();
}
```

### æµ‹è¯•é˜¶æ®µ

#### 1. è‡ªåŠ¨åŒ–æ€§èƒ½æµ‹è¯•
```yaml
# .github/workflows/performance.yml
name: Performance Tests

on:
  pull_request:
    branches: [ main ]
  schedule:
    - cron: '0 2 * * *' # æ¯æ—¥å‡Œæ™¨ 2 ç‚¹

jobs:
  performance:
    runs-on: macos-latest
    steps:
      - uses: actions/checkout@v3
      - uses: subosito/flutter-action@v2
        with:
          flutter-version: '3.19.0'
      
      - name: Run Performance Tests
        run: |
          flutter test test/performance/
          flutter drive --driver=test_driver/integration_test.dart \
                        --target=integration_test/performance_test.dart
      
      - name: Upload Performance Report
        uses: actions/upload-artifact@v3
        with:
          name: performance-report
          path: performance_report.json
```

#### 2. æ€§èƒ½å›å½’æ£€æµ‹
```dart
// test/performance/regression_test.dart
class PerformanceBaseline {
  static const Map<String, double> baselines = {
    'startup_time': 2000.0,
    'search_time': 300.0,
    'memory_usage': 150.0 * 1024 * 1024,
  };
  
  static void checkRegression(String metric, double value) {
    final baseline = baselines[metric];
    if (baseline != null && value > baseline * 1.1) { // 10% å®¹å¿åº¦
      throw Exception(
        'æ€§èƒ½å›å½’æ£€æµ‹å¤±è´¥: $metric å½“å‰å€¼ $value è¶…è¿‡åŸºçº¿ $baseline',
      );
    }
  }
}
```

### ç”Ÿäº§é˜¶æ®µ

#### 1. æ€§èƒ½ç›‘æ§é›†æˆ
```dart
// lib/core/services/analytics_service.dart
class AnalyticsService {
  static void trackPerformance(String event, Map<String, dynamic> data) {
    // é›†æˆ Firebase Performance Monitoring
    FirebasePerformance.instance.newTrace(event)
      ..putAttribute('platform', Platform.operatingSystem)
      ..putMetric('duration', data['duration'])
      ..start()
      ..stop();
  }
  
  static void trackError(String error, StackTrace stackTrace) {
    // é›†æˆ Crashlytics
    FirebaseCrashlytics.instance.recordError(
      error,
      stackTrace,
      fatal: false,
    );
  }
}
```

#### 2. ç”¨æˆ·åé¦ˆæ”¶é›†
```dart
// lib/features/feedback/performance_feedback.dart
class PerformanceFeedbackWidget extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return FloatingActionButton(
      onPressed: () => _showFeedbackDialog(context),
      child: const Icon(Icons.feedback),
    );
  }
  
  void _showFeedbackDialog(BuildContext context) {
    showDialog(
      context: context,
      builder: (context) => AlertDialog(
        title: const Text('æ€§èƒ½åé¦ˆ'),
        content: Column(
          mainAxisSize: MainAxisSize.min,
          children: [
            const Text('åº”ç”¨è¿è¡Œæ˜¯å¦æµç•…ï¼Ÿ'),
            Row(
              mainAxisAlignment: MainAxisAlignment.spaceEvenly,
              children: [
                ElevatedButton(
                  onPressed: () => _submitFeedback('smooth'),
                  child: const Text('æµç•…'),
                ),
                ElevatedButton(
                  onPressed: () => _submitFeedback('laggy'),
                  child: const Text('å¡é¡¿'),
                ),
              ],
            ),
          ],
        ),
      ),
    );
  }
}
```

---

## ğŸ“š é™„å½•

### A. æ€§èƒ½æ£€æµ‹æ¸…å•

- [ ] å¯åŠ¨æ—¶é—´ < 2s
- [ ] å‰ªè´´æ¿å“åº” < 100ms
- [ ] æœç´¢å“åº” < 300ms
- [ ] å†…å­˜å ç”¨ < 150MB
- [ ] CPU ç©ºé—² < 3%
- [ ] åˆ—è¡¨æ»šåŠ¨ â‰¥ 58 FPS
- [ ] æ— å†…å­˜æ³„æ¼
- [ ] æ—  ANR/å¡é¡¿
- [ ] è·¨å¹³å°ä¸€è‡´æ€§
- [ ] å‹åŠ›æµ‹è¯•é€šè¿‡

### B. å¸¸è§æ€§èƒ½é—®é¢˜

| é—®é¢˜ | ç—‡çŠ¶ | è§£å†³æ–¹æ¡ˆ |
|------|------|----------|
| Widget è¿‡åº¦é‡å»º | UI å¡é¡¿ï¼ŒCPU å ç”¨é«˜ | ä½¿ç”¨ constã€ä¼˜åŒ–çŠ¶æ€ç®¡ç† |
| å†…å­˜æ³„æ¼ | å†…å­˜æŒç»­å¢é•¿ | æ£€æŸ¥ç›‘å¬å™¨ã€å®šæ—¶å™¨é‡Šæ”¾ |
| æ•°æ®åº“é”ç«äº‰ | æ“ä½œå“åº”æ…¢ | ä½¿ç”¨è¿æ¥æ± ã€æ‰¹é‡æ“ä½œ |
| å›¾ç‰‡å†…å­˜å ç”¨ | å†…å­˜å³°å€¼è¿‡é«˜ | é™åˆ¶ç¼“å­˜å°ºå¯¸ã€æ‡’åŠ è½½ |
| ä¸»çº¿ç¨‹é˜»å¡ | UI æ— å“åº” | ä½¿ç”¨ Isolate å¤„ç†è€—æ—¶ä»»åŠ¡ |

### C. å‚è€ƒèµ„æº

- [Flutter Performance Best Practices](https://docs.flutter.dev/perf/best-practices)
- [Dart VM Performance](https://dart.dev/guides/language/performance)
- [SQLite Performance Tuning](https://www.sqlite.org/optoverview.html)
- [Material Design Performance](https://material.io/design/platform-guidance/cross-platform-adaptation.html)

---

**æ–‡æ¡£ç»´æŠ¤**: æœ¬æ–‡æ¡£åº”éšé¡¹ç›®å‘å±•æŒç»­æ›´æ–°ï¼Œå»ºè®®æ¯ä¸ªç‰ˆæœ¬å‘å¸ƒåè¿›è¡Œæ€§èƒ½åŸºå‡†æµ‹è¯•å¹¶æ›´æ–°ç›¸å…³æŒ‡æ ‡ã€‚

**è”ç³»æ–¹å¼**: å¦‚æœ‰æ€§èƒ½ç›¸å…³é—®é¢˜ï¼Œè¯·è”ç³»æ¶æ„å¸ˆå›¢é˜Ÿæˆ–åœ¨é¡¹ç›® Issue ä¸­æå‡ºã€‚# é™„å½•ï¼šæ€§èƒ½ç›‘æ§é¢æ¿ä¸ä¸€é”®ä¼˜åŒ–

ä¸ºäº†å°†æ€§èƒ½ç®¡ç†ä»è¢«åŠ¨çš„æ£€æµ‹è½¬å˜ä¸ºä¸»åŠ¨çš„ç›‘æ§å’Œå¹²é¢„ï¼Œæˆ‘ä»¬è®¾è®¡äº†åº”ç”¨å†…åµŒçš„â€œæ€§èƒ½ç›‘æ§é¢æ¿â€å’Œâ€œä¸€é”®ä¼˜åŒ–â€åŠŸèƒ½ã€‚è¿™ä¸ä»…èƒ½å¸®åŠ©å¼€å‘å›¢é˜Ÿå®æ—¶æŒæ¡åº”ç”¨çŠ¶æ€ï¼Œä¹Ÿä¸ºé«˜çº§ç”¨æˆ·æä¾›äº†ä¾¿æ·çš„æ€§èƒ½è°ƒä¼˜æ‰‹æ®µã€‚

---

## é™„å½• A: æ€§èƒ½ç›‘æ§é¢æ¿è®¾è®¡

### A.1 è®¾è®¡ç›®æ ‡

- **å®æ—¶æ€§**: åŠ¨æ€å±•ç¤ºæ ¸å¿ƒæ€§èƒ½æŒ‡æ ‡ï¼Œå»¶è¿Ÿ < 1sã€‚
- **å¯è§†åŒ–**: ä½¿ç”¨å›¾è¡¨å’Œé¢œè‰²åŒºåˆ†ï¼Œç›´è§‚åæ˜ æ€§èƒ½çŠ¶æ€ã€‚
- **ä½å¼€é”€**: ç›‘æ§é¢æ¿è‡ªèº«æ€§èƒ½å½±å“æå°ï¼Œå¼€å¯æ—¶å¯¹åº”ç”¨ä¸»åŠŸèƒ½æ— å¹²æ‰°ã€‚
- **æ˜“ç”¨æ€§**: æ— éœ€è¿æ¥ DevToolsï¼Œå³å¯åœ¨åº”ç”¨å†…ç›´æ¥æŸ¥çœ‹ã€‚

### A.2 é¢æ¿å…¥å£

- **å¼€å‘è€…æ¨¡å¼**: åœ¨åº”ç”¨çš„â€œè®¾ç½®â€ -> â€œå…³äºâ€é¡µé¢ï¼Œè¿ç»­ç‚¹å‡»ç‰ˆæœ¬å· 7 æ¬¡ï¼Œå¼€å¯â€œå¼€å‘è€…é€‰é¡¹â€ã€‚
- **æ‚¬æµ®çª—**: åœ¨â€œå¼€å‘è€…é€‰é¡¹â€ä¸­ï¼Œå¯å¼€å¯â€œæ€§èƒ½ç›‘æ§æ‚¬æµ®çª—â€ï¼Œæ–¹ä¾¿åœ¨ä»»ä½•ç•Œé¢æŸ¥çœ‹ã€‚

### A.3 é¢æ¿å¸ƒå±€ä¸æ ¸å¿ƒæŒ‡æ ‡

æ€§èƒ½ç›‘æ§é¢æ¿å°†ä»¥åŠé€æ˜æ‚¬æµ®çª—çš„å½¢å¼å‘ˆç°ï¼ŒåŒ…å«ä»¥ä¸‹æ ¸å¿ƒæŒ‡æ ‡ï¼š

| åŒºåŸŸ | æŒ‡æ ‡ | å±•ç°å½¢å¼ | æ­£å¸¸èŒƒå›´ | è­¦å‘ŠèŒƒå›´ | å±é™©èŒƒå›´ |
|---|---|---|---|---|---|
| **UI æ€§èƒ½** | **FPS** (å¸§ç‡) | å®æ—¶æŠ˜çº¿å›¾ + æ•°å­— | â‰¥ 58 | 45-57 | < 45 |
| | **Jank** (å¡é¡¿) | ç´¯è®¡å¡é¡¿æ¬¡æ•° | 0 | 1-5 æ¬¡/åˆ†é’Ÿ | > 5 æ¬¡/åˆ†é’Ÿ |
| | **UI é‡å»º** | Widget é‡å»ºè®¡æ•°å™¨ | < 10 æ¬¡/ç§’ | 10-20 æ¬¡/ç§’ | > 20 æ¬¡/ç§’ |
| **èµ„æºå ç”¨** | **å†…å­˜** (Memory) | ç¯å½¢è¿›åº¦æ¡ + æ•°å­— | < 150MB | 150-200MB | > 200MB |
| | **CPU** (å¤„ç†å™¨) | å®æ—¶æŠ˜çº¿å›¾ + æ•°å­— | < 15% | 15-30% | > 30% |
| **æ•°æ®æ“ä½œ** | **DB æŸ¥è¯¢** | å¹³å‡è€—æ—¶ (ms) | < 50ms | 50-100ms | > 100ms |
| | **å‰ªè´´æ¿æ•è·** | æœ€è¿‘ä¸€æ¬¡è€—æ—¶ (ms) | < 100ms | 100-200ms | > 200ms |

**é¢œè‰²è¯´æ˜**:
- **ç»¿è‰²**: æ€§èƒ½çŠ¶æ€è‰¯å¥½ã€‚
- **é»„è‰²**: å‡ºç°æ½œåœ¨é£é™©ï¼Œéœ€è¦å…³æ³¨ã€‚
- **çº¢è‰²**: æ€§èƒ½é—®é¢˜ä¸¥é‡ï¼Œéœ€è¦ç«‹å³å¤„ç†ã€‚

### A.4 äº¤äº’è®¾è®¡

- **ç‚¹å‡»å±•å¼€**: å•å‡»æ‚¬æµ®çª—å¯å±•å¼€/æ”¶èµ·è¯¦ç»†ä¿¡æ¯ã€‚
- **é•¿æŒ‰æ‹–åŠ¨**: é•¿æŒ‰æ‚¬æµ®çª—å¯æ‹–åŠ¨è‡³å±å¹•ä»»æ„ä½ç½®ã€‚
- **æŒ‡æ ‡é’»å–**: ç‚¹å‡»ç‰¹å®šæŒ‡æ ‡ï¼ˆå¦‚ DB æŸ¥è¯¢ï¼‰ï¼Œå¯å¼¹å‡ºæœ€è¿‘ 5 æ¬¡çš„æŸ¥è¯¢è¯­å¥åŠè€—æ—¶åˆ—è¡¨ï¼Œå¸®åŠ©å¿«é€Ÿå®šä½æ…¢æŸ¥è¯¢ã€‚

---

## é™„å½• B: ä¸€é”®ä¼˜åŒ–ä¾¿æ·å…¥å£

### B.1 åŠŸèƒ½è®¾è®¡

â€œä¸€é”®ä¼˜åŒ–â€åŠŸèƒ½é›†æˆåœ¨â€œå¼€å‘è€…é€‰é¡¹â€é¡µé¢ï¼Œæä¾›ä»¥ä¸‹ä¾¿æ·æ“ä½œï¼š

1. **æ¸…ç†å›¾ç‰‡ç¼“å­˜**:
   - **æ“ä½œ**: åˆ é™¤åº”ç”¨ç¼“å­˜çš„æ‰€æœ‰å›¾ç‰‡æ–‡ä»¶ã€‚
   - **åœºæ™¯**: å½“å›¾ç‰‡ç¼“å­˜å ç”¨ç©ºé—´è¿‡å¤§æˆ–å‡ºç°å›¾ç‰‡åŠ è½½å¼‚å¸¸æ—¶ä½¿ç”¨ã€‚
   - **å½±å“**: ä¸‹æ¬¡è®¿é—®å›¾ç‰‡éœ€è¦é‡æ–°ä»æ•°æ®åº“æˆ–ç½‘ç»œåŠ è½½ã€‚

2. **é‡å»ºæ•°æ®åº“ç´¢å¼•**:
   - **æ“ä½œ**: æ‰§è¡Œ `REINDEX` å‘½ä»¤ï¼Œé‡å»ºæ‰€æœ‰æ•°æ®è¡¨çš„ç´¢å¼•ã€‚
   - **åœºæ™¯**: åœ¨å¤§é‡æ•°æ®å¢åˆ åï¼Œæ„Ÿè§‰æœç´¢æˆ–åˆ—è¡¨åŠ è½½å˜æ…¢æ—¶ä½¿ç”¨ã€‚
   - **å½±å“**: æ“ä½œæœŸé—´æ•°æ®åº“è¯»å†™æ€§èƒ½ä¼šçŸ­æš‚ä¸‹é™ã€‚

3. **æ•°æ®åº“å‹ç¼© (VACUUM)**:
   - **æ“ä½œ**: æ‰§è¡Œ `VACUUM` å‘½ä»¤ï¼Œæ•´ç†æ•°æ®åº“å­˜å‚¨ç©ºé—´ï¼Œå›æ”¶æœªç”¨é¡µé¢ã€‚
   - **åœºæ™¯**: é•¿æœŸä½¿ç”¨åï¼Œæ„Ÿè§‰æ•°æ®åº“æ–‡ä»¶ä½“ç§¯å¼‚å¸¸å¢å¤§æ—¶ä½¿ç”¨ã€‚
   - **å½±å“**: æ“ä½œè€—æ—¶è¾ƒé•¿ï¼ŒæœŸé—´æ•°æ®åº“ä¼šè¢«é”å®šã€‚

4. **æ‰‹åŠ¨è§¦å‘ GC**:
   - **æ“ä½œ**: è°ƒç”¨ Dart VM çš„ `System.gc()`ã€‚
   - **åœºæ™¯**: ç”¨äºæµ‹è¯•å’Œåˆ†æå†…å­˜ä½¿ç”¨æƒ…å†µï¼Œè§‚å¯Ÿå†…å­˜å›æ”¶æ•ˆæœã€‚
   - **å½±å“**: å¯èƒ½ä¼šå¯¼è‡´çŸ­æš‚çš„ UI å¡é¡¿ã€‚

### B.2 æ“ä½œç¤ºä¾‹

åœ¨â€œå¼€å‘è€…é€‰é¡¹â€é¡µé¢ï¼Œæ¯ä¸ªä¼˜åŒ–é¡¹éƒ½é…æœ‰ä¸€ä¸ªæŒ‰é’®å’Œç®€çŸ­è¯´æ˜ã€‚

```
[ æ¸…ç†å›¾ç‰‡ç¼“å­˜ ]
è¯´æ˜ï¼šåˆ é™¤æ‰€æœ‰æœ¬åœ°ç¼“å­˜çš„å›¾ç‰‡ï¼Œé‡Šæ”¾å­˜å‚¨ç©ºé—´ã€‚

[ é‡å»ºæ•°æ®åº“ç´¢å¼• ]
è¯´æ˜ï¼šä¼˜åŒ–æŸ¥è¯¢æ€§èƒ½ï¼Œå»ºè®®åœ¨æ•°æ®å¤§é‡å˜æ›´åæ‰§è¡Œã€‚

[ æ•°æ®åº“æ·±åº¦å‹ç¼© ]
è¯´æ˜ï¼šå›æ”¶æ•°æ®åº“ç¢ç‰‡ç©ºé—´ï¼Œè¿‡ç¨‹å¯èƒ½è¾ƒæ…¢ã€‚
```

ç‚¹å‡»æŒ‰é’®åï¼Œç³»ç»Ÿä¼šå¼¹å‡ºä¸€ä¸ªäºŒæ¬¡ç¡®è®¤å¯¹è¯æ¡†ï¼Œå¹¶æ˜¾ç¤ºæ“ä½œçš„é¢„ä¼°è€—æ—¶å’Œæ½œåœ¨é£é™©ï¼Œé˜²æ­¢ç”¨æˆ·è¯¯æ“ä½œã€‚

---

é€šè¿‡å°†ç›‘æ§å’Œä¼˜åŒ–èƒ½åŠ›å†…å»ºäºåº”ç”¨ï¼ŒClipFlow Pro ä¸ä»…æå‡äº†å¼€å‘å’Œæµ‹è¯•æ•ˆç‡ï¼Œä¹Ÿä¸ºè¿½æ±‚æè‡´æ€§èƒ½çš„ç”¨æˆ·æä¾›äº†å¼ºå¤§çš„å·¥å…·é›†ã€‚