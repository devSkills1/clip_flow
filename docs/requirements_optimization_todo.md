# ClipFlow Pro 需求审阅与优化 TODO（2025-XX-XX）

## 审阅范围
- `README.md`（核心功能、阶段目标、版本计划）
- `docs/PROJECT_STATUS.md`（近期优化总结）
- `docs/TODO.md`（历史行动项与缺口整理）

## 优先改进方向

### 1. 云同步与协作范围缺少约束（高优先级）
> 来源：README `v1.1`（云同步服务、团队协作）与 `v2.0`（AI 智能）仅列出名称，无数据流与权限说明。
- [ ] 输出跨平台同步架构草案：明确定义本地存储与 iCloud/OneDrive/自建服务之间的同步单元、冲突解决、离线队列与回滚策略。
- [ ] 定义团队协作场景：共享空间/临时分享/只读 Token 等角色与权限模型，明确邀请、撤销、审计留痕的用户旅程。
- [ ] 确认端到端加密 VS 多设备共享的取舍，并制定密钥分发/轮换流程。

### 2. 数据安全与合规需求待细化（高优先级）
> 来源：README 仅提到 AES-256 加密，缺少密钥来源、权限隔离与隐私策略。
- [ ] 编写《隐私与数据处理说明》：覆盖数据收集项、保存时长、诊断上报可配置开关和匿名化策略。
- [ ] 明确密钥管理：桌面端本地安全存储、云同步密钥托管、多用户共享时的密钥分层，以及异常/撤销时的处理链路。
- [ ] 对日志/监控输出添加红线：列出禁止记录的字段（剪贴板明文、访问令牌等）及脱敏规范，并在 Logger 层补充自动校验。

### 3. 分发、更新与回滚策略未固化（高优先级）
> 来源：docs/TODO.md 仅提到“缺少 CI/CD”“补齐安装器”，缺乏最终用户触达方案。
- [ ] 明确各平台交付物：`.dmg`、`.msix`/NSIS、`.deb/.rpm`，以及自动更新通道（Sparkle/Squirrel/Freedesktop）与签名证书管理。
- [ ] 设计版本推广策略：灰度比例、手动回滚步骤、必要的版本阻断条件（测试覆盖、漏洞修复）。
- [ ] 在 `README` 或专门发布文档中补充“系统权限申请/撤销”“离线安装包校验”流程，降低用户准入门槛。

### 4. 搜索与智能功能需求缺乏验收指标（中高优先级）
> 来源：README “智能搜索”“高级筛选”“AI 摘要/智能标签”等仅描述愿景，没有性能/准确率界定。
- [ ] 为全文检索、类型过滤、AI 摘要等分别制定 SLA：查询响应 <200ms、召回/精确率、可处理的最大条目数等。
- [ ] 产出扩展语法/示例：布尔运算、最近使用、正则/模糊匹配、跨字段过滤，并同步到 `docs/` 下的用户指南。
- [ ] 拆解 AI 能力依赖：模型来源、是否本地/离线可用、隐私隔离方案（例如仅对选中条目推送到云端）。

### 5. 可观测性与性能基线缺失（中高优先级）
> 来源：README 以百分比描述性能提升，但没有固定基线、报警或回归测试要求。
- [ ] 固化关键指标：冷启动时间、滚动帧率、剪贴板写入延迟、数据库读写 95 分位等，并记录目标值与测量方法。
- [ ] 为 Sentry/自建监控补充仪表盘需求：环境标签、版本号、附带设备配置，配合告警阈值和轮班响应流程。
- [ ] 在 `test/test_runner.dart` 或脚本中加入性能回归任务，确保合并前自动验证核心指标。

### 6. 无障碍与上手体验缺失具体要求（中优先级）
> 来源：README 与 docs 仅笼统提到“现代化界面、可自适应布局”，未覆盖辅助功能、快捷键映射与首次使用引导。
- [ ] 设定 WCAG 2.1 AA 验收清单：键盘全覆盖、屏幕阅读序列、焦点可视化、动态内容的 Live Region 声明。
- [ ] 定义快捷键策略：默认映射、冲突检测、平台差异（Win vs. macOS）以及可导出/导入的配置格式。
- [ ] 设计首次启动引导与空状态内容，说明剪贴板权限、OCR 权限、同步状态，降低学习成本。

### 7. 国际化与文案流程未规范（中优先级）
> 来源：docs/TODO.md 指出多语言键值不完整，README 亦未说明新增文案的工作流。
- [ ] 建立 i18n 工作流：新增文案 → `l10n` 工具任务 → 文案审核 → 回归测试，防止未翻译键值进入发布版本。
- [ ] 将平台特有提示（OCR 权限、托盘说明等）加入本地化文件，并在产品需求中标记强制校对。
- [ ] 约束术语表：颜色/主题/剪贴板类型等关键词汇保持一致，减少中英混排歧义。

---
以上 TODO 可作为需求评审会输入，优先级可结合版本节奏在 `v1.1`/`v2.0` Roadmap 中落位。
